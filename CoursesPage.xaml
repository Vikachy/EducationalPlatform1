<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EducationalPlatform.CoursesPage"
            Title="Курсы">
    <ScrollView>
        <VerticalStackLayout Spacing="15" Padding="20">

            <!-- ШАПКА С ИНФОРМАЦИЕЙ О ПОЛЬЗОВАТЕЛЕ -->
            <Border Padding="15"
                    Stroke="#2E86AB"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 15">
                <VerticalStackLayout Spacing="10">
                    <Label x:Name="WelcomeLabel" 
                           Text="Добро пожаловать!"
                           FontSize="18" 
                           TextColor="#2E86AB"
                           FontAttributes="Bold" />

                    <Label x:Name="StreakLabel" 
                           Text="Серия: 0 дней"
                           FontSize="14" 
                           TextColor="#666" />

                    <!-- ПАНЕЛЬ БЫСТРЫХ НАСТРОЕК -->
                    <Border BackgroundColor="#F8F9FA"
                            Stroke="#2E86AB"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 10"
                            Padding="10"
                            Margin="0,10,0,0">
                        <Grid ColumnDefinitions="*,*" 
                              ColumnSpacing="10"
                              RowDefinitions="Auto,Auto"
                              RowSpacing="10">

                            <Label Grid.Row="0" Grid.Column="0"
                                   Text="Язык:"
                                   FontSize="12"
                                   TextColor="#333" />

                            <Picker Grid.Row="1" Grid.Column="0"
                                    x:Name="LanguagePicker"
                                    Title="Выберите язык"
                                    SelectedIndexChanged="OnLanguageChanged"
                                    HeightRequest="40">
                                <Picker.Items>
                                    <x:String>Русский</x:String>
                                    <x:String>English</x:String>
                                </Picker.Items>
                            </Picker>

                            <Label Grid.Row="0" Grid.Column="1"
                                   Text="Тема:"
                                   FontSize="12"
                                   TextColor="#333" />

                            <Picker Grid.Row="1" Grid.Column="1"
                                    x:Name="ThemePicker"
                                    Title="Выберите тему"
                                    SelectedIndexChanged="OnThemeChanged"
                                    HeightRequest="40">
                                <Picker.Items>
                                    <x:String>Стандартная</x:String>
                                    <x:String>Для подростков</x:String>
                                </Picker.Items>
                            </Picker>
                        </Grid>
                    </Border>
                </VerticalStackLayout>
            </Border>

            <Label Text="Доступные курсы:" 
                   FontSize="18" 
                   TextColor="#333"
                   FontAttributes="Bold" />

            <CollectionView x:Name="CoursesCollectionView">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border Margin="0,5"
                                Stroke="#DDD"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 10"
                                Padding="0">
                            <VerticalStackLayout Spacing="10" Padding="15">
                                <Label Text="{Binding CourseName}" 
                                       FontSize="18" 
                                       FontAttributes="Bold" 
                                       TextColor="#2E86AB" />

                                <Label Text="{Binding Description}" 
                                       FontSize="14" 
                                       TextColor="#666" />

                                <HorizontalStackLayout Spacing="10">
                                    <Label Text="{Binding LanguageName}" 
                                           FontSize="12" 
                                           BackgroundColor="#2E86AB"
                                           TextColor="White"
                                           Padding="8,4" />

                                    <Label Text="{Binding DifficultyName}" 
                                           FontSize="12" 
                                           BackgroundColor="#666"
                                           TextColor="White"
                                           Padding="8,4" />
                                </HorizontalStackLayout>

                                <Button Text="Начать курс" 
                                        Clicked="OnStartCourseClicked"
                                        BackgroundColor="#2E86AB"
                                        TextColor="White"
                                        HeightRequest="40" />

                            </VerticalStackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>