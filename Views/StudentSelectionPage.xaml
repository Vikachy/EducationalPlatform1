<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EducationalPlatform.Views.StudentSelectionPage"
             Title="Выбор студентов">

    <Grid RowDefinitions="Auto,*,Auto">
        <!-- Заголовок -->
        <Label Grid.Row="0" Text="Выберите студентов для группы" 
               FontSize="16" FontAttributes="Bold" 
               HorizontalOptions="Center" Margin="10"/>

        <!-- Список студентов -->
        <CollectionView Grid.Row="1" x:Name="StudentsCollectionView">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Grid Padding="10" ColumnDefinitions="Auto,*,Auto">
                        <CheckBox Grid.Column="0" 
                                  IsChecked="{Binding IsSelected}"
                                  VerticalOptions="Center"/>

                        <VerticalStackLayout Grid.Column="1" Margin="10,0">
                            <Label Text="{Binding Student.Username}" 
                                   FontSize="14" FontAttributes="Bold"/>
                            <Label Text="{Binding Student.FirstName, StringFormat='{0} '}{Binding Student.LastName}" 
                                   FontSize="12" TextColor="Gray"/>
                        </VerticalStackLayout>

                        <Label Grid.Column="2" Text="{Binding Student.Email}" 
                               FontSize="10" TextColor="DarkGray"/>
                    </Grid>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Кнопки -->
        <Grid Grid.Row="2" ColumnDefinitions="*,*" Padding="10" ColumnSpacing="10">
            <Button Grid.Column="0" Text="Отмена" 
                    Clicked="OnCancelClicked"
                    BackgroundColor="LightGray"/>
            <Button Grid.Column="1" Text="Сохранить" 
                    Clicked="OnSaveClicked"
                    BackgroundColor="#2196F3" TextColor="White"/>
        </Grid>
    </Grid>
</ContentPage>