<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EducationalPlatform.Views.EditPracticePage"
             Title="Редактирование практики">

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">

            <Label Text="Редактирование практического задания" 
                   FontSize="24" FontAttributes="Bold"
                   HorizontalOptions="Center" />

            <Border Style="{DynamicResource StandardFrameStyle}" Padding="15">
                <VerticalStackLayout Spacing="15">

                    <Label Text="Название задания:" Style="{DynamicResource StandardLabelStyle}"/>
                    <Entry x:Name="TitleEntry" Placeholder="Введите название задания" />

                    <Label Text="Описание:" Style="{DynamicResource StandardLabelStyle}"/>
                    <Editor x:Name="DescriptionEditor" HeightRequest="100" />

                    <Label Text="Тип ответа:" Style="{DynamicResource StandardLabelStyle}"/>
                    <Picker x:Name="AnswerTypePicker">
                        <Picker.Items>
                            <x:String>text</x:String>
                            <x:String>code</x:String>
                            <x:String>file</x:String>
                        </Picker.Items>
                    </Picker>

                    <!-- Для программирования -->
                    <StackLayout x:Name="CodeSection" IsVisible="False">
                        <Label Text="Стартовый код:" Style="{DynamicResource StandardLabelStyle}"/>
                        <Editor x:Name="StarterCodeEditor" HeightRequest="150" />
                    </StackLayout>

                    <!-- Ожидаемый ответ -->
                    <Label Text="Ожидаемый ответ/решение:" Style="{DynamicResource StandardLabelStyle}"/>
                    <Editor x:Name="ExpectedAnswerEditor" HeightRequest="100" />

                    <Label Text="Подсказка:" Style="{DynamicResource StandardLabelStyle}"/>
                    <Editor x:Name="HintEditor" HeightRequest="80" />

                    <!-- Настройки для файлов -->
                    <StackLayout x:Name="FileSettingsSection" IsVisible="False">
                        <Label Text="Максимальный размер файла (МБ):" Style="{DynamicResource StandardLabelStyle}"/>
                        <Entry x:Name="MaxFileSizeEntry" Text="10" Keyboard="Numeric" />

                        <Label Text="Разрешенные типы файлов:" Style="{DynamicResource StandardLabelStyle}"/>
                        <HorizontalStackLayout>
                            <CheckBox x:Name="ZipCheckBox" IsChecked="True" />
                            <Label Text="ZIP" VerticalOptions="Center" />
                            <CheckBox x:Name="ImageCheckBox" IsChecked="True" Margin="10,0,0,0" />
                            <Label Text="Изображения" VerticalOptions="Center" />
                            <CheckBox x:Name="PdfCheckBox" IsChecked="True" Margin="10,0,0,0" />
                            <Label Text="PDF" VerticalOptions="Center" />
                        </HorizontalStackLayout>
                    </StackLayout>

                    <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                        <Button Text="Назад" Clicked="OnBackClicked" />
                        <Button Text="Сохранить изменения" Clicked="OnSaveClicked" 
                                BackgroundColor="{DynamicResource PrimaryColor}" />
                    </Grid>

                </VerticalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>