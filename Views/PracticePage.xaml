<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EducationalPlatform.Views.PracticePage"
             Title="ÐŸÑ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ">

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="15">

            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <Label x:Name="TitleLabel" 
                   FontSize="24" 
                   FontAttributes="Bold" 
                   HorizontalOptions="Center" 
                   TextColor="{DynamicResource PrimaryColor}" />

            <!-- ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ -->
            <Border BackgroundColor="#F8F9FA"
                    Stroke="#E9ECEF"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    Padding="15">
                <Label x:Name="DescriptionLabel" 
                       FontSize="16" 
                       LineBreakMode="WordWrap" />
            </Border>

            <!-- Ð¡ÐµÐºÑ†Ð¸Ñ Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÐ¸ -->
            <Border x:Name="HintSection"
                    BackgroundColor="#FFF3CD"
                    Stroke="#FFEAA7"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    Padding="15"
                    IsVisible="False">
                <VerticalStackLayout Spacing="8">
                    <HorizontalStackLayout Spacing="10">
                        <Label Text="ðŸ’¡" 
                               FontSize="16" />
                        <Label Text="ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°" 
                               FontSize="16" 
                               FontAttributes="Bold" 
                               TextColor="#856404" />
                    </HorizontalStackLayout>
                    <Label x:Name="HintLabel" 
                           FontSize="14" 
                           LineBreakMode="WordWrap"
                           TextColor="#856404" />
                </VerticalStackLayout>
            </Border>

            <!-- Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ ÐºÐ¾Ð´Ð° -->
            <Border BackgroundColor="White"
                    Stroke="#E0E0E0"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    Padding="0">
                <VerticalStackLayout Spacing="0">
                    <Border BackgroundColor="#2E86AB"
                            Padding="10">
                        <Label Text="Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ ÐºÐ¾Ð´Ð°" 
                               FontSize="14" 
                               FontAttributes="Bold" 
                               TextColor="White" />
                    </Border>
                    <Editor x:Name="CodeEditor" 
                            HeightRequest="200" 
                            AutoSize="TextChanges"
                            Placeholder="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ ÐºÐ¾Ð´ Ð·Ð´ÐµÑÑŒ..."
                            Margin="10"
                            FontFamily="Courier New" />
                </VerticalStackLayout>
            </Border>

            <!-- Ð¡ÐµÐºÑ†Ð¸Ñ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ -->
            <Border x:Name="AttachmentsSection"
                    BackgroundColor="White"
                    Stroke="#E0E0E0"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    Padding="0"
                    IsVisible="False">
                <VerticalStackLayout Spacing="0">
                    <Border BackgroundColor="#6C757D"
                            Padding="10">
                        <Label Text="ðŸ“Ž ÐŸÑ€Ð¸ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹" 
                               FontSize="14" 
                               FontAttributes="Bold" 
                               TextColor="White" />
                    </Border>
                    <CollectionView x:Name="AttachmentsCollection"
                                    HeightRequest="150"
                                    Margin="10">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Grid ColumnDefinitions="Auto,*,Auto" 
                                      Padding="10,8"
                                      ColumnSpacing="10">
                                    <Label Grid.Column="0" 
                                           Text="{Binding FileIcon}"
                                           FontSize="16"
                                           VerticalOptions="Center" />
                                    <VerticalStackLayout Grid.Column="1">
                                        <Label Text="{Binding FileName}" 
                                               FontSize="14" 
                                               FontAttributes="Bold"
                                               LineBreakMode="TailTruncation" />
                                        <Label Text="{Binding FileSize}" 
                                               FontSize="12" 
                                               TextColor="Gray" />
                                    </VerticalStackLayout>
                                    <Button Grid.Column="2" 
                                            Text="ðŸ“¥" 
                                            Clicked="OnDownloadAttachmentClicked"
                                            CommandParameter="{Binding .}"
                                            BackgroundColor="Transparent"
                                            WidthRequest="40"
                                            HeightRequest="40" />
                                </Grid>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </VerticalStackLayout>
            </Border>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ -->
            <Button Text="âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ" 
                    Clicked="OnCheckClicked"
                    BackgroundColor="{DynamicResource PrimaryColor}"
                    TextColor="White"
                    HeightRequest="50"
                    CornerRadius="10"
                    FontSize="16"
                    FontAttributes="Bold" />

            <!-- Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ -->
            <Border x:Name="ResultSection"
                    BackgroundColor="#F8F9FA"
                    Stroke="#E9ECEF"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 10"
                    Padding="15"
                    IsVisible="False">
                <Label x:Name="ResultLabel" 
                       FontSize="16" 
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />
            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>


